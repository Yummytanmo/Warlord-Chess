
> warlord-chess@0.1.0 test
> vitest --run src/test/properties/liubang-skills.test.ts

[33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m

 RUN  v1.6.1 /Users/yummy/Code/Chess

 â¯ src/test/properties/liubang-skills.test.ts  (14 tests | 1 failed) 242ms
   â¯ src/test/properties/liubang-skills.test.ts > Liu Bang Genyi and Hongmen Skills Properties > Property 6: Hongmen skill - elephant ignores elephant heart blocking
     â†’ Property failed after 1 tests
{ seed: -1731787414, path: "0:0:0:1:0:1:1:0:0", endOnFailure: true }
Counterexample: [{"elephant":{"id":" ","type":"elephant","color":"red","position":{"x":0,"y":5},"isAlive":true},"gameState":{"board":{"grid":[[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[{"id":" ","type":"elephant","color":"red","position":{"x":0,"y":5},"isAlive":true},null,null,null,null,null,null,null,null],[null,{"id":"blocking-piece","type":"pawn","color":"black","position":{"x":1,"y":6},"isAlive":true},null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null]],"BOARD_SIZE":{"width":9,"height":10}},"players":[{"id":"liubang_player_red","color":"red","hero":{"id":"liubang","name":"åˆ˜é‚¦","skills":[{"isUsed":false,"type":"passive","id":"liubang_genyi","name":"æ›´è¡£","description":"ä½ çš„å°†å¯ä»¥å‡ºä¹å®«ã€‚"},{"isUsed":false,"id":"liubang_qinzheng","name":"äº²å¾","type":"limited","description":"é™å®šæŠ€ï¼Œå‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å¼ºåˆ¶å¯¹æ–¹å°†ä¸ä½ çš„å°†åœ¨åŒä¸€æ¡çº¿ä¸Šï¼Œç§»é™¤ç§»åŠ¨è·¯å¾„ä¸Šçš„é˜»æŒ¡ã€‚"},{"isUsed":false,"type":"passive","id":"liubang_hongmen","name":"é¸¿é—¨","description":"ä½ çš„å£«å¯ä»¥å‡ºä¹å®«ï¼Œä½†ä¸èƒ½è¿‡æ²³ï¼›ä½ çš„è±¡ä¸å—è±¡å¿ƒé™åˆ¶ã€‚"}],"awakened":false,"avatar":"/heroes/liubang.jpg","description":"æ±‰é«˜ç¥–ï¼Œå–„äºè¿ç”¨è®¡è°‹å’Œçµæ´»æˆ˜æœ¯ã€‚å°†ã€å£«ã€è±¡å…·æœ‰ç‰¹æ®Šèƒ½åŠ›ã€‚"},"pieces":[]},{"id":"opponent","color":"black","hero":{"id":"test_hero","name":"æµ‹è¯•æ­¦å°†","skills":[],"awakened":false},"pieces":[]}],"currentPlayer":"red","gamePhase":"playing","moveHistory":[]}},{"dx":2,"dy":2}]
Shrunk 8 time(s)
Got AssertionError: the given combination of arguments (undefined and string) is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a string
    at Proxy.<anonymous> (file:///Users/yummy/Code/Chess/node_modules/@vitest/expect/dist/index.js:1002:17)
    at Proxy.<anonymous> (file:///Users/yummy/Code/Chess/node_modules/@vitest/expect/dist/index.js:800:17)
    at Proxy.methodWrapper (/Users/yummy/Code/Chess/node_modules/chai/lib/chai/utils/addMethod.js:57:25)
    at /Users/yummy/Code/Chess/src/test/properties/liubang-skills.test.ts:502:31
    at Property.predicate (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/property/Property.js:14:54)
    at Property.run (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/property/Property.generic.js:46:33)
    at runIt (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/runner/Runner.js:18:30)
    at check (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/runner/Runner.js:62:11)
    at Proxy.assert (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/runner/Runner.js:65:17)
    at /Users/yummy/Code/Chess/src/test/properties/liubang-skills.test.ts:440:8

Hint: Enable verbose mode in order to have the list of all failing values encountered during the run

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  src/test/properties/liubang-skills.test.ts > Liu Bang Genyi and Hongmen Skills Properties > Property 6: Hongmen skill - elephant ignores elephant heart blocking
Error: Property failed after 1 tests
{ seed: -1731787414, path: "0:0:0:1:0:1:1:0:0", endOnFailure: true }
Counterexample: [{"elephant":{"id":" ","type":"elephant","color":"red","position":{"x":0,"y":5},"isAlive":true},"gameState":{"board":{"grid":[[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[{"id":" ","type":"elephant","color":"red","position":{"x":0,"y":5},"isAlive":true},null,null,null,null,null,null,null,null],[null,{"id":"blocking-piece","type":"pawn","color":"black","position":{"x":1,"y":6},"isAlive":true},null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null]],"BOARD_SIZE":{"width":9,"height":10}},"players":[{"id":"liubang_player_red","color":"red","hero":{"id":"liubang","name":"åˆ˜é‚¦","skills":[{"isUsed":false,"type":"passive","id":"liubang_genyi","name":"æ›´è¡£","description":"ä½ çš„å°†å¯ä»¥å‡ºä¹å®«ã€‚"},{"isUsed":false,"id":"liubang_qinzheng","name":"äº²å¾","type":"limited","description":"é™å®šæŠ€ï¼Œå‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å¼ºåˆ¶å¯¹æ–¹å°†ä¸ä½ çš„å°†åœ¨åŒä¸€æ¡çº¿ä¸Šï¼Œç§»é™¤ç§»åŠ¨è·¯å¾„ä¸Šçš„é˜»æŒ¡ã€‚"},{"isUsed":false,"type":"passive","id":"liubang_hongmen","name":"é¸¿é—¨","description":"ä½ çš„å£«å¯ä»¥å‡ºä¹å®«ï¼Œä½†ä¸èƒ½è¿‡æ²³ï¼›ä½ çš„è±¡ä¸å—è±¡å¿ƒé™åˆ¶ã€‚"}],"awakened":false,"avatar":"/heroes/liubang.jpg","description":"æ±‰é«˜ç¥–ï¼Œå–„äºè¿ç”¨è®¡è°‹å’Œçµæ´»æˆ˜æœ¯ã€‚å°†ã€å£«ã€è±¡å…·æœ‰ç‰¹æ®Šèƒ½åŠ›ã€‚"},"pieces":[]},{"id":"opponent","color":"black","hero":{"id":"test_hero","name":"æµ‹è¯•æ­¦å°†","skills":[],"awakened":false},"pieces":[]}],"currentPlayer":"red","gamePhase":"playing","moveHistory":[]}},{"dx":2,"dy":2}]
Shrunk 8 time(s)
Got AssertionError: the given combination of arguments (undefined and string) is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a string
    at Proxy.<anonymous> (file:///Users/yummy/Code/Chess/node_modules/@vitest/expect/dist/index.js:1002:17)
    at Proxy.<anonymous> (file:///Users/yummy/Code/Chess/node_modules/@vitest/expect/dist/index.js:800:17)
    at Proxy.methodWrapper (/Users/yummy/Code/Chess/node_modules/chai/lib/chai/utils/addMethod.js:57:25)
    at /Users/yummy/Code/Chess/src/test/properties/liubang-skills.test.ts:502:31
    at Property.predicate (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/property/Property.js:14:54)
    at Property.run (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/property/Property.generic.js:46:33)
    at runIt (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/runner/Runner.js:18:30)
    at check (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/runner/Runner.js:62:11)
    at Proxy.assert (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/runner/Runner.js:65:17)
    at /Users/yummy/Code/Chess/src/test/properties/liubang-skills.test.ts:440:8

Hint: Enable verbose mode in order to have the list of all failing values encountered during the run
 â¯ src/test/properties/liubang-skills.test.ts:502:31
    500|         // éœ€æ±‚ 4.5: åˆ˜é‚¦çš„è±¡ç§»åŠ¨æ—¶ï¼Œæ¸¸æˆç³»ç»Ÿåº”å½“å¿½ç•¥è±¡å¿ƒé™åˆ¶
    501|         expect(result.isValid).toBe(true);
    502|         expect(result.reason).toContain('é¸¿é—¨');
       |                               ^
    503|       }
    504|     ), { numRuns: 100 });
 â¯ Property.predicate node_modules/fast-check/lib/esm/check/property/Property.js:14:54
 â¯ Property.run node_modules/fast-check/lib/esm/check/property/Property.generic.js:46:33
 â¯ runIt node_modules/fast-check/lib/esm/check/runner/Runner.js:18:30
 â¯ check node_modules/fast-check/lib/esm/check/runner/Runner.js:62:11
 â¯ Proxy.assert node_modules/fast-check/lib/esm/check/runner/Runner.js:65:17
 â¯ src/test/properties/liubang-skills.test.ts:440:8
 â¯ buildError node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:126:15
 â¯ throwIfFailed node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:138:11
 â¯ reportRunDetails node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:151:16
 â¯ Proxy.assert node_modules/fast-check/lib/esm/check/runner/Runner.js:69:9
 â¯ src/test/properties/liubang-skills.test.ts:440:8

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯

 Test Files  1 failed (1)
      Tests  1 failed | 13 passed (14)
   Start at  17:35:30
   Duration  3.34s (transform 243ms, setup 435ms, collect 383ms, tests 242ms, environment 970ms, prepare 131ms)

