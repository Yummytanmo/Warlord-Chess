
> warlord-chess@0.1.0 test
> vitest --run xiangyu-skills

[33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m

 RUN  v1.6.1 /Users/yummy/Code/Chess

 â¯ src/test/properties/xiangyu-skills.test.ts  (16 tests | 1 failed) 67ms
   â¯ src/test/properties/xiangyu-skills.test.ts > Xiang Yu Beishui Skill Properties > Property 4: Beishui skill - crossed pawns cannot move diagonally
     â†’ Property failed after 6 tests
{ seed: -512567314, path: "5:0:0:0:4", endOnFailure: true }
Counterexample: [{"pawn":{"id":" ","type":"pawn","color":"red","position":{"x":8,"y":0},"isAlive":true},"gameState":{"board":{"grid":[[null,null,null,null,null,null,null,null,{"id":" ","type":"pawn","color":"red","position":{"x":8,"y":0},"isAlive":true}],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null]],"BOARD_SIZE":{"width":9,"height":10}},"players":[{"id":"xiangyu_player_red","color":"red","hero":{"id":"xiangyu","name":"é¡¹ç¾½","skills":[{"isUsed":false,"id":"xiangyu_beishui","name":"èƒŒæ°´","type":"passive","description":"ä½ çš„å…µæœªè¿‡æ²³æ—¶ï¼Œå¯ä»¥ä¸€æ­¥ç›´æ¥è¿‡æ²³ï¼›è¿‡æ²³åï¼Œæ¯æ¬¡ç§»åŠ¨å¯ä»¥è¿èµ°ä¸¤æ­¥ï¼Œä½†æœ€å¤šå‰è¿›ä¸€æ­¥ã€‚"},{"isUsed":false,"id":"xiangyu_bawang","name":"éœ¸ç‹","type":"passive","description":"ä½ çš„é©¬ç§»åŠ¨æ—¶ï¼Œä¸å—æ‹Œé©¬è…¿å½±å“ï¼ˆé™¤éé©¬å—æ”»å‡»ï¼‰ï¼›ä½ ä¸èƒ½è¿ç»­ä¸¤æ­¥éƒ½é€‰æ‹©è·³é©¬ã€‚"}],"awakened":false,"avatar":"/heroes/xiangyu.jpg","description":"è¥¿æ¥šéœ¸ç‹ï¼ŒåŠ›æ‹”å±±å…®æ°”ç›–ä¸–ã€‚æ‹¥æœ‰å¼ºå¤§çš„å…µç§å’Œé©¬åŒ¹ä¼˜åŠ¿ã€‚"},"pieces":[]},{"id":"opponent","color":"black","hero":{"id":"test_hero","name":"æµ‹è¯•æ­¦å°†","skills":[],"awakened":false},"pieces":[]}],"currentPlayer":"red","gamePhase":"playing","moveHistory":[]}}]
Shrunk 4 time(s)
Got AssertionError: expected false to be true // Object.is equality
    at /Users/yummy/Code/Chess/src/test/properties/xiangyu-skills.test.ts:419:80
    at Property.predicate (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/property/Property.js:14:54)
    at Property.run (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/property/Property.generic.js:46:33)
    at runIt (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/runner/Runner.js:18:30)
    at check (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/runner/Runner.js:62:11)
    at Proxy.assert (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/runner/Runner.js:65:17)
    at /Users/yummy/Code/Chess/src/test/properties/xiangyu-skills.test.ts:386:8
    at file:///Users/yummy/Code/Chess/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/yummy/Code/Chess/node_modules/@vitest/runner/dist/index.js:60:26
    at runTest (file:///Users/yummy/Code/Chess/node_modules/@vitest/runner/dist/index.js:781:17)

Hint: Enable verbose mode in order to have the list of all failing values encountered during the run

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  src/test/properties/xiangyu-skills.test.ts > Xiang Yu Beishui Skill Properties > Property 4: Beishui skill - crossed pawns cannot move diagonally
Error: Property failed after 6 tests
{ seed: -512567314, path: "5:0:0:0:4", endOnFailure: true }
Counterexample: [{"pawn":{"id":" ","type":"pawn","color":"red","position":{"x":8,"y":0},"isAlive":true},"gameState":{"board":{"grid":[[null,null,null,null,null,null,null,null,{"id":" ","type":"pawn","color":"red","position":{"x":8,"y":0},"isAlive":true}],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null]],"BOARD_SIZE":{"width":9,"height":10}},"players":[{"id":"xiangyu_player_red","color":"red","hero":{"id":"xiangyu","name":"é¡¹ç¾½","skills":[{"isUsed":false,"id":"xiangyu_beishui","name":"èƒŒæ°´","type":"passive","description":"ä½ çš„å…µæœªè¿‡æ²³æ—¶ï¼Œå¯ä»¥ä¸€æ­¥ç›´æ¥è¿‡æ²³ï¼›è¿‡æ²³åï¼Œæ¯æ¬¡ç§»åŠ¨å¯ä»¥è¿èµ°ä¸¤æ­¥ï¼Œä½†æœ€å¤šå‰è¿›ä¸€æ­¥ã€‚"},{"isUsed":false,"id":"xiangyu_bawang","name":"éœ¸ç‹","type":"passive","description":"ä½ çš„é©¬ç§»åŠ¨æ—¶ï¼Œä¸å—æ‹Œé©¬è…¿å½±å“ï¼ˆé™¤éé©¬å—æ”»å‡»ï¼‰ï¼›ä½ ä¸èƒ½è¿ç»­ä¸¤æ­¥éƒ½é€‰æ‹©è·³é©¬ã€‚"}],"awakened":false,"avatar":"/heroes/xiangyu.jpg","description":"è¥¿æ¥šéœ¸ç‹ï¼ŒåŠ›æ‹”å±±å…®æ°”ç›–ä¸–ã€‚æ‹¥æœ‰å¼ºå¤§çš„å…µç§å’Œé©¬åŒ¹ä¼˜åŠ¿ã€‚"},"pieces":[]},{"id":"opponent","color":"black","hero":{"id":"test_hero","name":"æµ‹è¯•æ­¦å°†","skills":[],"awakened":false},"pieces":[]}],"currentPlayer":"red","gamePhase":"playing","moveHistory":[]}}]
Shrunk 4 time(s)
Got AssertionError: expected false to be true // Object.is equality
    at /Users/yummy/Code/Chess/src/test/properties/xiangyu-skills.test.ts:419:80
    at Property.predicate (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/property/Property.js:14:54)
    at Property.run (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/property/Property.generic.js:46:33)
    at runIt (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/runner/Runner.js:18:30)
    at check (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/runner/Runner.js:62:11)
    at Proxy.assert (file:///Users/yummy/Code/Chess/node_modules/fast-check/lib/esm/check/runner/Runner.js:65:17)
    at /Users/yummy/Code/Chess/src/test/properties/xiangyu-skills.test.ts:386:8
    at file:///Users/yummy/Code/Chess/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/yummy/Code/Chess/node_modules/@vitest/runner/dist/index.js:60:26
    at runTest (file:///Users/yummy/Code/Chess/node_modules/@vitest/runner/dist/index.js:781:17)

Hint: Enable verbose mode in order to have the list of all failing values encountered during the run
 â¯ src/test/properties/xiangyu-skills.test.ts:419:80
    417|         expect(result.isValid).toBe(false);
    418|         // é”™è¯¯æ¶ˆæ¯å¯èƒ½æ˜¯ "æ–œèµ°" æˆ– "ä¸¤æ­¥"ï¼ˆå½“æ€»æ­¥æ•° > 2 æ—¶å…ˆè§¦å‘æ­¥æ•°â€¦
    419|         expect(result.reason?.includes('æ–œèµ°') || result.reason?.incluâ€¦
       |                                                                                ^
    420|       }
    421|     ), { numRuns: 100 });
 â¯ Property.predicate node_modules/fast-check/lib/esm/check/property/Property.js:14:54
 â¯ Property.run node_modules/fast-check/lib/esm/check/property/Property.generic.js:46:33
 â¯ runIt node_modules/fast-check/lib/esm/check/runner/Runner.js:18:30
 â¯ check node_modules/fast-check/lib/esm/check/runner/Runner.js:62:11
 â¯ Proxy.assert node_modules/fast-check/lib/esm/check/runner/Runner.js:65:17
 â¯ src/test/properties/xiangyu-skills.test.ts:386:8
 â¯ buildError node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:126:15
 â¯ throwIfFailed node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:138:11
 â¯ reportRunDetails node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:151:16
 â¯ Proxy.assert node_modules/fast-check/lib/esm/check/runner/Runner.js:69:9
 â¯ src/test/properties/xiangyu-skills.test.ts:386:8

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯

 Test Files  1 failed (1)
      Tests  1 failed | 15 passed (16)
   Start at  15:53:36
   Duration  1.01s (transform 113ms, setup 203ms, collect 146ms, tests 67ms, environment 217ms, prepare 128ms)

